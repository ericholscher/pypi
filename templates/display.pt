<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="standard_template/macros/page">
<metal:fill fill-slot="body">

<span tal:define="un python: app.quote_plus(options['name']);uv python: app.quote_plus(options['version'])">
<br/>Package: 
  <a  tal:attributes="href string: ${app/urlpath}?:action=role_form&amp;package_name=${un}">admin</a>
  <a tal:attributes="href string: ${app/urlpath}?:action=submit_form&amp;name=${un}&amp;version=${uv}">edit</a>
  <a tal:attributes="href string: ${app/urlpath}?:action=files&amp;name=${un}&amp;version=${uv}">files</a>
  <a tal:attributes="href string: ${app/urlpath}?:action=submit_form&amp;name=${un}&amp;version=${uv}">PKG-INFO</a>
<br/>

<table class="form">
 <tr tal:repeat="row options/rows">
   <th nowrap="nowrap" tal:content="python: options['row_names'][row]"/>
   <td tal:content="structure python: options['values'][row]"/>
 </tr>
 <tal:block tal:content="structure options/dependencies"/>
</table>
</span>

<table tal:replace="structure python:app.package_role_list(options['name'])" />

<table class="history">
 <tr><th colspan="4" class="header">Journal</th></tr>
 <tr><th>Action</th><th>Date</th><th>User</th><th>Address</th></tr>
 <tr tal:repeat="entry python:app.store.get_journal(options['name'],
                            options['version'])">
  <td nowrap="" tal:content="entry/action" />
  <td nowrap="" tal:content="python:str(entry['submitted_date'])[:-3]" />
  <td nowrap="" tal:content="entry/submitted_by" />
  <td nowrap="" tal:content="entry/submitted_from" />
 </tr>
</table>

</metal:fill>
</html>
