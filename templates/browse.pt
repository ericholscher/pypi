<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    metal:use-macro="standard_template/macros/page"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
>
<metal:slot fill-slot="body">

<!-- selected categories -->
<span tal:condition="data/selected_categories">
  <p>There are <span tal:replace="data/packages_count"/> packages in the categories you have selected:</p>
  <ul style="list-style-type: none; margin-left: 0;">
  <li tal:repeat="selected data/selected_categories">
    <strong tal:content="selected/category">Category</strong>
    <small style="color: #666;">::</small>
    <strong tal:content="selected/subcategory">Subcategory</strong>
    [<a tal:attributes="href selected/unselect_url">unselect</a>]
  </li>
  </ul>
</span>

<!-- packages -->
<span tal:condition="not: data/show_packages">
  <p tal:condition="data/selected_categories">
    Continue selecting categories from below, or
    <a tal:attributes="href data/show_packages_url">show all matching packages</a> now.
  </p>
</span>
<span tal:condition="data/show_packages">
  <p>Select a package or more categories from below.</p>
  <table class="list">
  <tr><th>Package</th><th>Description</th></tr>
  <tr tal:repeat="package data/packages"
      tal:attributes="class repeat/package/parity">
    <td><a tal:attributes="href package/url" tal:content="package/name">package name</a></td>
    <td tal:content="package/summary">package summary</td>
  </tr>
  <tr><td id="last" colspan="2"></td></tr>
  </table>
</span>

<!-- available categories -->
<div tal:repeat="category data/available_categories">
<h2 tal:content="category/name" style="margin-bottom: 5px;">Category</h2>

<ul style="list-style: none; padding: 0; margin: 0; margin-left: 10px;">
<li tal:repeat="subcategory category/subcategories" style="display: inline; margin: 0 0.15em; margin-right: 10px; white-space: nowrap;">
  <a tal:attributes="href subcategory/url" tal:content="subcategory/name">Subcategory</a>
  <small style="color: #666">(<span tal:replace="subcategory/packages_count"/>)</small>
</li>
</ul>

</div>

</metal:slot>
</html>
