<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    metal:use-macro="standard_template/macros/page"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
>
<metal:slot fill-slot="body">

<!--
TODO:
- no categories selected
- too many matches
- some matches
- no matches
-->
<p>There are <span tal:replace="python: len(data['matches'])"/> package(s) in these categories:</p>

<ul>
<li tal:repeat="query data/queries">
  <strong tal:content="query/path">Some :: Package</strong>
  [<a tal:attributes="href query/ignore_url">ignore</a>]
</li>
</ul>

<!--<p>Continue selecting categories from below, or <a href="">show matching packages</a> now.</p>-->

<p>Select a package or more categories from below.</p>

<table class="list" tal:condition="
python: data['query'].query and data['matches']">
 <tr><th>Package</th><th>Description</th></tr>
 <tr tal:repeat="package data/matches"
  tal:attributes="class repeat/package/parity">
  <tal:let define="name python: package[0]; version python: package[1]; summary python: package[2]">
  <td tal:content="structure python: app.packageLink(name, version)">link</td>
  <td tal:content="summary">summary</td>
  </tal:let>
 </tr>
 <tr><td id="last" colspan="2"></td></tr>
</table>


<hr />

<div tal:repeat="choice data/choice_data">
<strong tal:content="choice/header"/><br/>

<tal:for-options repeat="option_data choice/option_data">
<a tal:attributes="href option_data/href">
 <span tal:replace="option_data/description"/>
 (<span tal:replace="option_data/count"/>)</a>
<tal:if condition="not:repeat/option_data/end"> / </tal:if>
</tal:for-options>

</div>

</metal:slot>
</html>
